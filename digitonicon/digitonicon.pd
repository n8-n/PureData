#N canvas 120 32 762 593 16;
#N canvas 920 57 688 620 main 1;
#X obj 29 13 loadbang;
#X obj 29 99 f;
#X obj 74 109 + 1;
#X obj 29 134 % 4;
#X floatatom 29 168 5 0 0 0 - - - 0;
#N canvas 1029 134 825 512 tempo 0;
#X obj 194 379 outlet;
#X text 55 6 Can base tempo on the GUI slider or receive it from external transport, f 48;
#X obj 438 150 ../utils/transport-tempo;
#X obj 400 212 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 438 260 spigot;
#X obj 517 180 r play;
#X obj 517 214 != 1;
#X msg 592 180 1;
#X obj 58 129 r play;
#X obj 156 60 r tempo;
#X floatatom 156 127 5 0 0 0 - - - 0;
#X obj 156 94 i;
#X obj 175 166 s temporound;
#X obj 58 326 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 438 316 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 58 210 tgl 24 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000 0 1;
#X msg 156 206 tempo \$1 permin;
#X obj 58 273 metro 1 120 permin;
#X obj 242 77 loadbang;
#X text 435 75 Timing is inconsistent with midi clock. Stick with puredata clock for now., f 31;
#X msg 242 111 30;
#X obj 33 80 inlet;
#X text 199 403 tempo;
#X obj 298 379 outlet;
#X text 313 403 bpm;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 4 0 14 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 6 1;
#X connect 8 0 15 0;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 10 0 16 0;
#X connect 10 0 23 0;
#X connect 11 0 10 0;
#X connect 15 0 17 0;
#X connect 16 0 17 0;
#X connect 17 0 13 0;
#X connect 17 0 0 0;
#X connect 18 0 20 0;
#X connect 20 0 10 0;
#X connect 21 0 17 0;
#X restore 258 10 pd tempo;
#X obj 258 141 r reset;
#X msg 258 173 0;
#N canvas 861 41 707 584 gui_display 0;
#X obj 129 287 s rhtm_init;
#X msg 129 254 1;
#X msg 16 255 60;
#X msg 252 253 120;
#X obj 252 286 s tempo_init;
#X obj 120 164 loadbang;
#X obj 12 14 r rhythm1;
#X obj 12 47 i;
#X obj 152 47 i;
#X obj 292 47 i;
#X obj 432 47 i;
#X obj 152 14 r rhythm2;
#X obj 292 14 r rhythm3;
#X obj 432 14 r rhythm4;
#X msg 288 152 1;
#X obj 12 81 s r1round;
#X obj 152 81 s r2round;
#X obj 292 81 s r3round;
#X obj 432 81 s r4round;
#X obj 307 443 s seq1_note;
#X obj 307 477 s seq2_note;
#X obj 457 364 r seq1_note;
#X obj 457 444 r seq2_note;
#X msg 295 381 100;
#X obj 457 398 s nlen1_display;
#X obj 457 478 s nlen2_display;
#X obj 120 199 t b b b b b;
#X obj 16 289 s seq1n0;
#X obj 16 421 s seq2n0;
#X obj 26 319 s seq1n1;
#X obj 46 387 s seq1n3;
#X obj 36 353 s seq1n2;
#X obj 26 455 s seq2n1;
#X obj 36 490 s seq2n2;
#X obj 46 524 s seq2n3;
#X text 417 208 Initialise GUI element values and define send and receives., f 19;
#X connect 1 0 0 0;
#X connect 2 0 27 0;
#X connect 2 0 29 0;
#X connect 2 0 31 0;
#X connect 2 0 30 0;
#X connect 2 0 28 0;
#X connect 2 0 32 0;
#X connect 2 0 33 0;
#X connect 2 0 34 0;
#X connect 3 0 4 0;
#X connect 5 0 26 0;
#X connect 6 0 7 0;
#X connect 7 0 15 0;
#X connect 8 0 16 0;
#X connect 9 0 17 0;
#X connect 10 0 18 0;
#X connect 11 0 8 0;
#X connect 12 0 9 0;
#X connect 13 0 10 0;
#X connect 14 0 15 0;
#X connect 14 0 16 0;
#X connect 14 0 17 0;
#X connect 14 0 18 0;
#X connect 21 0 24 0;
#X connect 22 0 25 0;
#X connect 23 0 19 0;
#X connect 23 0 20 0;
#X connect 26 0 2 0;
#X connect 26 1 1 0;
#X connect 26 2 23 0;
#X connect 26 3 14 0;
#X connect 26 4 3 0;
#X restore 479 10 pd gui_display;
#N canvas 849 59 935 762 rhythm 0;
#X obj 306 8 inlet;
#X text 369 8 tempo;
#X obj 476 8 inlet;
#X text 539 8 bpm;
#X floatatom 476 44 5 0 0 0 - - - 0;
#X obj 306 47 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 306 106 f;
#X obj 350 106 + 1;
#X obj 45 193 mod;
#X floatatom 96 194 5 0 0 0 - - - 0;
#X floatatom 45 228 5 0 0 0 - - - 0;
#X obj 45 271 sel 0;
#X obj 129 454 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 129 315 spigot;
#X obj 45 314 spigot;
#X obj 45 456 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 55 346 r s1r1;
#X obj 139 346 r s2r1;
#X obj 229 684 outlet;
#X obj 229 650 delay 1;
#X obj 568 684 outlet;
#X obj 568 650 delay 1;
#X text 302 683 seq1;
#X text 641 683 seq2;
#X obj 245 193 mod;
#X floatatom 296 194 5 0 0 0 - - - 0;
#X floatatom 245 228 5 0 0 0 - - - 0;
#X obj 245 271 sel 0;
#X obj 329 454 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 329 315 spigot;
#X obj 245 314 spigot;
#X obj 245 456 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 445 193 mod;
#X floatatom 496 194 5 0 0 0 - - - 0;
#X floatatom 445 228 5 0 0 0 - - - 0;
#X obj 445 271 sel 0;
#X obj 529 454 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 529 315 spigot;
#X obj 445 314 spigot;
#X obj 445 456 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 645 193 mod;
#X floatatom 696 194 5 0 0 0 - - - 0;
#X floatatom 645 228 5 0 0 0 - - - 0;
#X obj 645 271 sel 0;
#X obj 729 454 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 729 315 spigot;
#X obj 645 314 spigot;
#X obj 645 456 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 255 346 r s1r2;
#X obj 339 346 r s2r2;
#X obj 455 346 r s1r3;
#X obj 539 346 r s2r3;
#X obj 655 346 r s1r4;
#X obj 739 346 r s2r4;
#X obj 96 164 r rhythm1;
#X obj 296 164 r rhythm2;
#X obj 496 164 r rhythm3;
#X obj 696 164 r rhythm4;
#X obj 157 194 i;
#X obj 357 194 i;
#X obj 557 194 i;
#X obj 757 194 i;
#X obj 108 8 r reset;
#X obj 28 8 r play;
#X msg 108 40 0;
#X connect 0 0 5 0;
#X connect 2 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 6 0 24 0;
#X connect 6 0 32 0;
#X connect 6 0 40 0;
#X connect 7 0 6 1;
#X connect 8 0 10 0;
#X connect 9 0 8 1;
#X connect 10 0 11 0;
#X connect 11 0 14 0;
#X connect 11 0 13 0;
#X connect 12 0 21 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 19 0;
#X connect 16 0 14 1;
#X connect 17 0 13 1;
#X connect 19 0 18 0;
#X connect 21 0 20 0;
#X connect 24 0 26 0;
#X connect 25 0 24 1;
#X connect 26 0 27 0;
#X connect 27 0 30 0;
#X connect 27 0 29 0;
#X connect 28 0 21 0;
#X connect 29 0 28 0;
#X connect 30 0 31 0;
#X connect 31 0 19 0;
#X connect 32 0 34 0;
#X connect 33 0 32 1;
#X connect 34 0 35 0;
#X connect 35 0 38 0;
#X connect 35 0 37 0;
#X connect 36 0 21 0;
#X connect 37 0 36 0;
#X connect 38 0 39 0;
#X connect 39 0 19 0;
#X connect 40 0 42 0;
#X connect 41 0 40 1;
#X connect 42 0 43 0;
#X connect 43 0 46 0;
#X connect 43 0 45 0;
#X connect 44 0 21 0;
#X connect 45 0 44 0;
#X connect 46 0 47 0;
#X connect 47 0 19 0;
#X connect 48 0 30 1;
#X connect 49 0 29 1;
#X connect 50 0 38 1;
#X connect 51 0 37 1;
#X connect 52 0 46 1;
#X connect 53 0 45 1;
#X connect 54 0 58 0;
#X connect 55 0 59 0;
#X connect 56 0 60 0;
#X connect 57 0 61 0;
#X connect 58 0 9 0;
#X connect 59 0 25 0;
#X connect 60 0 33 0;
#X connect 61 0 41 0;
#X connect 62 0 64 0;
#X connect 63 0 64 0;
#X connect 64 0 6 1;
#X restore 254 44 pd rhythm;
#N canvas 1047 163 763 548 midiout 0;
#X text 23 29 Sequencer 1;
#X text 355 29 Sequencer 2;
#X obj 24 111 f;
#X obj 62 289 noteout 1;
#X obj 24 156 makenote 100 100;
#X obj 24 67 inlet;
#X obj 181 111 r seq1_note;
#X obj 24 245 poly 1 1;
#X obj 24 200 pack f f, f 9;
#X text 117 243 monophonic output;
#X obj 357 111 f;
#X obj 357 156 makenote 100 100;
#X obj 357 67 inlet;
#X obj 357 245 poly 1 1;
#X obj 357 200 pack f f, f 9;
#X obj 514 111 r seq2_note;
#X obj 395 289 noteout 2;
#X connect 2 0 4 0;
#X connect 4 0 8 0;
#X connect 4 1 8 1;
#X connect 5 0 2 0;
#X connect 6 0 4 2;
#X connect 7 1 3 0;
#X connect 7 2 3 1;
#X connect 8 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 14 0;
#X connect 11 1 14 1;
#X connect 12 0 10 0;
#X connect 13 1 16 0;
#X connect 13 2 16 1;
#X connect 14 0 13 0;
#X connect 15 0 11 2;
#X restore 81 520 pd midiout;
#N canvas 810 76 927 771 midiin 1;
#X obj 731 64 midirealtimein;
#X obj 731 97 sel 248;
#X obj 798 129 bng 24 250 50 0 empty empty empty 0 -12 0 16 #fcfcfc #000000 #000000;
#X obj 798 163 s transport;
#X floatatom 32 144 5 0 0 0 - - - 0;
#X floatatom 104 145 5 0 0 0 - - - 0;
#X obj 729 260 notein;
#X obj 729 295 sel 0;
#X obj 729 330 s reset;
#X text 729 10 Transport controls Ignore clock sync, f 19;
#X text 728 227 Reset on note 0;
#X obj 32 100 ctlin;
#X floatatom 181 146 5 0 0 0 - - - 0;
#X obj 104 232 pack f f;
#X obj 104 188 mod 70;
#X obj 32 320 send;
#X msg 104 276 symbol seq\$2n\$1;
#X text 29 6 Ctrls 70-74 control the note values for sequencers. Determine sequencer using channel., f 27;
#X connect 0 0 1 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 4 0 15 0;
#X connect 5 0 14 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 11 0 4 0;
#X connect 11 1 5 0;
#X connect 11 2 12 0;
#X connect 12 0 13 1;
#X connect 13 0 16 0;
#X connect 14 0 13 0;
#X connect 16 0 15 1;
#X restore 479 44 pd midiin;
#X obj 31 417 v;
#X floatatom 31 485 5 0 0 0 - - - 0;
#X obj 31 451 i;
#X msg 58 382 symbol seq1n\$1;
#X obj 31 348 t b f;
#X obj 31 314 r seq1;
#X obj 29 201 s seq1;
#X obj 29 54 v seq1;
#X obj 211 417 v;
#X floatatom 211 485 5 0 0 0 - - - 0;
#X obj 211 451 i;
#X obj 211 348 t b f;
#X msg 238 382 symbol seq2n\$1;
#X obj 211 314 r seq2;
#X obj 134 54 v seq2;
#X obj 133 99 f;
#X obj 178 109 + 1;
#X obj 133 134 % 4;
#X floatatom 133 168 5 0 0 0 - - - 0;
#X obj 133 201 s seq2;
#X obj 498 391 value seq1n2;
#X obj 498 331 value seq1n0;
#X obj 498 361 value seq1n1;
#X obj 498 421 value seq1n3;
#X obj 498 471 value seq2n0;
#X obj 498 501 value seq2n1;
#X obj 498 531 value seq2n2;
#X obj 498 561 value seq2n3;
#X text 497 255 need these to store values of steps., f 14;
#X connect 0 0 19 0;
#X connect 0 0 26 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 18 0;
#X connect 5 0 9 0;
#X connect 5 1 9 1;
#X connect 6 0 7 0;
#X connect 7 0 1 1;
#X connect 7 0 27 1;
#X connect 9 0 1 0;
#X connect 9 1 27 0;
#X connect 12 0 14 0;
#X connect 13 0 10 0;
#X connect 14 0 13 0;
#X connect 15 0 12 1;
#X connect 16 0 12 0;
#X connect 16 1 15 0;
#X connect 17 0 16 0;
#X connect 19 0 1 1;
#X connect 20 0 22 0;
#X connect 21 0 10 1;
#X connect 22 0 21 0;
#X connect 23 0 20 0;
#X connect 23 1 24 0;
#X connect 24 0 20 1;
#X connect 25 0 23 0;
#X connect 26 0 27 1;
#X connect 27 0 28 0;
#X connect 27 0 29 0;
#X connect 28 0 27 1;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X restore 635 28 pd main;
#X obj 17 19 cnv 24 600 550 empty empty empty 20 12 0 16 #9f9f9f #404040 0;
#X obj 42 459 cnv 24 550 80 empty empty empty 20 12 0 16 #dfdfdf #000000 0;
#X obj 42 329 cnv 24 550 110 empty empty empty 20 12 0 16 #dfdfdf #404040 0;
#X obj 104 38 cnv 24 150 275 empty empty empty 20 12 0 16 #dfdfdf #404040 0;
#X obj 384 38 cnv 24 150 275 empty empty empty 20 12 0 16 #dfdfdf #404040 0;
#X obj 492 105 vsl 24 150 0 127 0 0 seq2n3 seq2n3 empty 0 -9 0 16 #404040 #ffffff #000000 0 0;
#X obj 399 261 hradio 30 1 0 4 seq2 seq2 Sequencer\ 2 0 40 0 12 #dfdfdf #ff0400 #000000 0;
#X obj 74 358 hsl 100 20 16 1 0 0 rhythm1 rhtm_init Rhythm\ 1 -3 -10 0 12 #404040 #ffffff #000000 0 1;
#X obj 462 105 vsl 24 150 0 127 0 0 seq2n2 seq2n2 empty 0 -9 0 16 #404040 #ffffff #000000 0 0;
#X obj 432 105 vsl 24 150 0 127 0 0 seq2n1 seq2n1 empty 0 -9 0 16 #404040 #ffffff #000000 0 0;
#X obj 403 105 vsl 24 150 0 127 0 0 seq2n0 seq2n0 empty 0 -9 0 16 #404040 #ffffff #000000 0 0;
#X obj 212 105 vsl 24 150 0 127 0 0 seq1n3 seq1n3 empty 0 -9 0 16 #404040 #ffffff #000000 0 0;
#X obj 119 261 hradio 30 1 0 4 seq1 seq1 Sequencer\ 1 0 40 0 12 #dfdfdf #ff0400 #000000 0;
#X obj 182 105 vsl 24 150 0 127 0 0 seq1n2 seq1n2 empty 0 -9 0 16 #404040 #ffffff #000000 0 0;
#X obj 152 105 vsl 24 150 0 127 0 0 seq1n1 seq1n1 empty 0 -9 0 16 #404040 #ffffff #000000 0 0;
#X obj 123 105 vsl 24 150 0 127 0 0 seq1n0 seq1n0 empty 0 -9 0 16 #404040 #ffffff #000000 0 0;
#X obj 95 383 tgl 20 0 s1r1 empty Seq\ 1 25 10 0 12 #ffffff #ff0400 #000000 0 1;
#X obj 95 407 tgl 20 0 s2r1 empty Seq\ 2 25 10 0 12 #fcfcfc #ff0400 #000000 0 1;
#X obj 203 358 hsl 100 20 16 1 0 0 rhythm2 rhtm_init Rhythm\ 2 -3 -10 0 12 #404040 #ffffff #000000 0 1;
#X obj 224 383 tgl 20 0 s1r2 empty Seq\ 1 25 10 0 12 #fcfcfc #ff0400 #000000 0 1;
#X obj 224 407 tgl 20 0 s2r2 empty Seq\ 2 25 10 0 12 #fcfcfc #ff0400 #000000 0 1;
#X obj 333 358 hsl 100 20 16 1 0 0 rhythm3 rhtm_init Rhythm\ 3 -3 -10 0 12 #404040 #ffffff #000000 0 1;
#X obj 354 383 tgl 20 0 s1r3 empty Seq\ 1 25 10 0 12 #fcfcfc #ff0400 #000000 0 1;
#X obj 354 407 tgl 20 0 s2r3 empty Seq\ 2 25 10 0 12 #fcfcfc #ff0400 #000000 0 1;
#X obj 463 358 hsl 100 20 16 1 0 0 rhythm4 rhtm_init Rhythm\ 4 -3 -10 0 12 #404040 #ffffff #000000 0 1;
#X obj 484 383 tgl 20 0 s1r4 empty Seq\ 1 25 10 0 12 #fcfcfc #ff0400 #000000 0 1;
#X obj 484 407 tgl 20 0 s2r4 empty Seq\ 2 25 10 0 12 #fcfcfc #ff0400 #000000 0 1;
#X obj 72 492 bng 30 250 50 0 reset reset_all Reset 40 15 0 16 #ffffff #000000 #000000;
#X obj 199 492 tgl 30 0 play transport Play 40 15 0 16 #fcfcfc #000000 #000000 0 1;
#X obj 323 492 hsl 200 30 10 1000 0 0 tempo tempo_init Tempo 210 15 0 16 #404040 #ffffff #000000 0 1;
#X floatatom 473 469 5 30 1000 0 - temporound - 0;
#X floatatom 533 341 5 1 16 0 - r4round - 10;
#X floatatom 403 341 5 1 16 0 - r3round - 10;
#X floatatom 273 341 5 1 16 0 - r2round - 10;
#X floatatom 144 341 5 1 16 0 - r1round - 10;
#X obj 129 61 hsl 100 20 10 1000 0 0 seq1_note seq1_note Note\ Length\ (ms) -3 30 0 12 #404040 #ffffff #000000 0 1;
#X obj 409 61 hsl 100 20 10 1000 0 0 seq2_note seq2_note Note\ Length\ (ms) -3 30 0 12 #404040 #ffffff #000000 0 1;
#X floatatom 479 44 5 1 16 0 - nlen2_display - 10;
#X floatatom 199 44 5 1 16 0 - nlen1_display - 10;
